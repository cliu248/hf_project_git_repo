# Assignment: Final Project

> By - Chang Liu

------------------------------------------------------------------------

##Repository Description

`code/01_make_data.R`

  - generates the cleaned, labeled data set for downstream analysis
  - saves the prepared data as a `.rds` object in `output/` folder

`code/02_make_tables.R`

  - generates the tables to describe the contents of data
  - saves the Tables 1A-B as `.rds` objects in `output/` folder

`code/03_make_figures.R`

  - generates the figures to describe selected variables of data
  - saves the Figures 1A-D as `.rds` objects in `output/` folder

`code/04_render_report.R`

  - renders `hf_report.Rmd`

`hf_report.Rmd`

  - reads the prepared data,Tables 1A-B and Figures 1A-D generated by the codes above
  - adds writing to the report, integrates all tables and figures
  
##How to Build Docker Image

Use `docker build -t hf_image .` to build the docker image locally. 

##How to Generate Report

Run `make report/hf_report.html` inside the repo directory. This will run a docker container with the image at `https://hub.docker.com/r/cliu248/hf_image/` to build the report, and save the report in the local mounted `report` folder.

You can use the docker pull command to retrieve the docker image using `docker pull cliu248/hf_image`. To run the container interactively, use `docker run -it cliu248/hf_image bash`. Inside the container, you can use `make hf_report.html` to generate the report. 

Executing `make clean` will remove the report and the output files in the `output/` folder.

Executing `make install` will restore the package environment and synchronize package repository.

